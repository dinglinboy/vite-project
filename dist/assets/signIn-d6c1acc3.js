import{d as V,r as _,a as f,o as b,c as y,b as o,w as n,e as m,u as g,f as F,l as B,g as C,h as I,s as R,E as U,i as z}from"./index-50181273.js";import{E as j,a as q}from"./axios-6fbf70e0.js";import{E}from"./el-checkbox-85056a66.js";import{_ as N}from"./vite-8e5405bb.js";import{l as T}from"./index-65fc047b.js";const S={class:"login-page"},$=m("div",{class:"login-page-logo"},[m("img",{src:N,height:"200"})],-1),L=V({__name:"signIn",setup(A){const c=I(),e=_({username:"dinglin12",password:"12345678",checked:!1}),d=f(),k=_({username:[{required:!0,message:"请输入用户名",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"change"}]}),r=f(!1),v=a=>{a&&(a==null||a.resetFields())},h=async a=>{a&&(r.value=!0,await a.validate(s=>{if(s){const{username:u,password:t}=e;T({username:u,password:t}).then(i=>{console.log(i),R({username:e.username,checked:e.checked,jwt_token:i.jwt_token});const{redirect:p}=c.currentRoute.value.query;c.push(p||"/")})}else v(d.value);r.value=!1}))},w=()=>{c.push("/signUp")};return(a,s)=>{const u=U,t=q,i=E,p=z,x=j;return b(),y("div",S,[$,o(x,{class:"login-page-form",rules:k,model:e,ref_key:"ruleFormRef",ref:d},{default:n(()=>[o(t,{prop:"username"},{default:n(()=>[o(u,{class:"user-inp",modelValue:e.username,"onUpdate:modelValue":s[0]||(s[0]=l=>e.username=l),type:"text",size:"large","prefix-icon":g(F),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),o(t,{prop:"password"},{default:n(()=>[o(u,{class:"user-inp",modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=l=>e.password=l),"prefix-icon":g(B),size:"large",type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),o(t,{class:"flexSpaceBetween"},{default:n(()=>[o(i,{modelValue:e.checked,"onUpdate:modelValue":s[2]||(s[2]=l=>e.checked=l),label:"记住密码",size:"large"},null,8,["modelValue"]),m("span",{onClick:w,class:"cursor"},"注册账号")]),_:1}),o(t,null,{default:n(()=>[o(p,{disabled:r.value,size:"large",onClick:s[3]||(s[3]=l=>h(d.value)),type:"success",class:"submit",loading:r.value},{default:n(()=>[C("登陆")]),_:1},8,["disabled","loading"])]),_:1})]),_:1},8,["rules","model"])])}}});export{L as default};
