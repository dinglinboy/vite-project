import{d as V,r as _,a as g,o as y,c as b,b as a,w as n,e as f,u as v,f as k,l as F,g as B,h as U,E as z,i as C}from"./index-97ca1030.js";import{E,a as N}from"./axios-5e479414.js";import{_ as R}from"./vite-8e5405bb.js";import{r as q}from"./index-fe9900d0.js";import{E as c}from"./index-2c2ad003.js";const I={class:"login-page"},T=f("div",{class:"login-page-logo"},[f("img",{src:R,height:"200"})],-1),H=V({__name:"signUp",setup(M){const w=U(),o=_({username:"dinglin12",password:"12345678",checked:!1}),u=g(),x=_({username:[{required:!0,message:"请输入用户名",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"change"}]}),i=g(!1),m=e=>{e&&(e==null||e.resetFields())},h=async e=>{e&&(i.value=!0,await e.validate(s=>{if(s){const{username:d,password:r}=o;q({username:d,password:r}).then(l=>{const{code:p,message:t}=l;p===0?(c.success("注册成功,3秒后自动跳转登录页"),m(u.value),setTimeout(()=>{w.push("/login")},3e3)):c.warning(t||"注册成功")}).catch(l=>{c.error(l.message)})}else m(u.value);i.value=!1}))};return(e,s)=>{const d=z,r=N,l=C,p=E;return y(),b("div",I,[T,a(p,{class:"login-page-form",rules:x,model:o,ref_key:"ruleFormRef",ref:u},{default:n(()=>[a(r,{prop:"username"},{default:n(()=>[a(d,{class:"user-inp",modelValue:o.username,"onUpdate:modelValue":s[0]||(s[0]=t=>o.username=t),type:"text",size:"large","prefix-icon":v(k),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),a(r,{prop:"password"},{default:n(()=>[a(d,{class:"user-inp",modelValue:o.password,"onUpdate:modelValue":s[1]||(s[1]=t=>o.password=t),"prefix-icon":v(F),size:"large",type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),a(r,null,{default:n(()=>[a(l,{disabled:i.value,size:"large",onClick:s[2]||(s[2]=t=>h(u.value)),type:"success",class:"submit",loading:i.value},{default:n(()=>[B("注册")]),_:1},8,["disabled","loading"])]),_:1})]),_:1},8,["rules","model"])])}}});export{H as default};
